<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Study Hub</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/calendar.css">
  <link rel="stylesheet" href="css/notepad.css">
  <link rel="stylesheet" href="css/timer.css">

  <!-- Add a rounded font (Baloo 2 is playful and bubbly) -->
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2&display=swap" rel="stylesheet">
</head>
<body>

  <header>
    üìö JELLYVERSE
  </header>

  <main class="container">
    <section class="calendar-card">
      <div class="cal-header">
        <button id="prevBtn" aria-label="Previous month">‚Äπ</button>
        <h2 id="monthLabel" aria-live="polite"></h2>
        <button id="nextBtn" aria-label="Next month">‚Ä∫</button>
      </div>

      <div class="cal-grid">
        <div class="weekday">Sun</div>
        <div class="weekday">Mon</div>
        <div class="weekday">Tue</div>
        <div class="weekday">Wed</div>
        <div class="weekday">Thu</div>
        <div class="weekday">Fri</div>
        <div class="weekday">Sat</div>
        <div id="days" class="days"></div>
      </div>
    </section>
  </main>

  <section class="notepad">
    <div class="np-header">
      <h2>Notes</h2>
      <div class="np-actions">
        <button id="np-undo" aria-label="Undo">‚Ü∂</button>
        <button id="np-redo" aria-label="Redo">‚Ü∑</button>
        <button id="np-export" aria-label="Export as .txt">Export</button>
        <label class="np-import-label">
          Import <input id="np-import" type="file" accept=".txt,.html" hidden>
        </label>
        <button id="np-clear" aria-label="Clear all">Clear</button>
      </div>
    </div>

    <div class="np-toolbar" role="toolbar" aria-label="Formatting">
      <select id="np-format-block" aria-label="Text style">
        <option value="p">Paragraph</option>
        <option value="h1">Heading 1</option>
        <option value="h2">Heading 2</option>
        <option value="h3">Heading 3</option>
        <option value="h4">Heading 4</option>
        <option value="h5">Heading 5</option>
        <option value="h6">Heading 6</option>
      </select>
      <span class="np-sep"></span>
      <button data-cmd="bold"><strong>B</strong></button>
      <button data-cmd="italic"><em>I</em></button>
      <button data-cmd="underline"><u>U</u></button>
      <span class="np-sep"></span>
      <button data-cmd="insertUnorderedList">‚Ä¢ List</button>
      <button data-cmd="insertOrderedList">1. List</button>
    </div>

    <!-- The editable area -->
    <div id="np-editor" class="np-editor" contenteditable="true"
       aria-label="Notepad editor"></div>

    <div class="np-footer">
      <span id="np-status">Saved</span>
      <span id="np-counts">0 words ‚Ä¢ 0 chars</span>
    </div>
  </section>

  <!-- Timer Widget -->
  <div id="timer-widget" aria-live="polite">
    <button class="tw-settings" aria-label="Set timer" title="Set timer">‚ãÆ</button>
    <svg class="tw-ring" viewBox="0 0 120 120" aria-hidden="true">
      <!-- background track -->
      <circle class="tw-track" cx="60" cy="60" r="52"></circle>
      <!-- progress ring (animated) -->
      <circle class="tw-progress" cx="60" cy="60" r="52"></circle>
    </svg>
    <div class="tw-time" id="tw-time">25:00</div>
    <div class="tw-controls">
      <button id="tw-start" aria-label="Start">‚ñ∂</button>
      <button id="tw-pause" aria-label="Pause">‚è∏</button>
      <button id="tw-reset" aria-label="Reset">‚ü≤</button>
    </div>

    <!-- duration dialog -->
    <dialog id="tw-dialog">
      <form method="dialog" id="tw-form">
        <h3>Set Timer</h3>
        <div class="tw-row">
          <label>Minutes <input type="number" id="tw-min" min="0" value="25"></label>
          <label>Seconds <input type="number" id="tw-sec" min="0" max="59" value="0"></label>
        </div>
        <div class="tw-presets">
          <button data-preset="300">5m</button>
          <button data-preset="1500">25m</button>
          <button data-preset="1800">30m</button>
        </div>
        <menu>
          <button value="cancel">Cancel</button>
          <button id="tw-save" value="default">Save</button>
        </menu>
      </form>
    </dialog>
  </div>

  <!-- AI Quizzer panel -->
  <div id="ai-quizzer" class="quizzer">
    <div class="quizzer-header">
      <span>AI Quizzer</span>
      <div class="quizzer-actions">
        <button id="quizzer-min">_</button>
        <button id="quizzer-close">√ó</button>
      </div>
    </div>

    <div class="quizzer-body">
      <div class="quizzer-controls">
        <button id="quiz-me-btn">Quiz Me</button>
        <button id="export-quiz-btn" disabled>Export</button>
      </div>

      <div class="quizzer-status" id="quizzer-status">Paste or type notes in your notepad, then click ‚ÄúQuiz Me‚Äù.</div>

      <ol id="quiz-list" class="quizzer-questions"></ol>

      <label class="quizzer-answers-label">Your answers (1 per line, in order):</label>
      <textarea id="quiz-answers" class="quizzer-answers" placeholder="1) ...&#10;2) ..."></textarea>
    </div>
  </div>


  <!-- Modal -->
  <div id="eventModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal__panel" role="document">
      <div class="modal__header">
        <h3 id="modalTitle">Events</h3>
        <button id="closeModal" class="icon-btn" aria-label="Close">‚úï</button>
      </div>

      <div id="existingEvents" class="existing-events" aria-live="polite"></div>

      <form id="eventForm" novalidate>
        <input type="hidden" id="eventDateISO" />
        <input type="hidden" id="eventId" />
        <label class="field">
          <span>Title *</span>
          <input id="eventTitle" type="text" required maxlength="120" placeholder="e.g., Physics quiz review" />
        </label>
        <label class="field">
          <span>Notes</span>
          <textarea id="eventNotes" rows="3" placeholder="Optional details‚Ä¶"></textarea>
        </label>
        <div class="actions">
          <button type="submit" id="saveEvent" class="btn primary">Save</button>
          <button type="button" id="deleteEvent" class="btn danger hidden">Delete</button>
          <button type="button" id="cancelEvent" class="btn">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <script src="js/calendar.js"></script>
  <script src="js/notepad.js"></script>
  <script src="js/timer.js" defer></script>
</body>
</html>